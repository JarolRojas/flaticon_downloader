<section class="text-white space-y-6">
  <!-- Encabezado -->
  <div class="text-center mb-8">
    <div class="inline-block mb-2">
      <span class="text-5xl">üì¶</span>
    </div>
    <h1 class="text-3xl font-bold bg-linear-to-r from-[#d698e6] to-[#a02cd6] bg-clip-text text-transparent">PNG</h1>
    <p class="text-sm mt-2 text-white/70">Descarga tus iconos en formato PNG con un click</p>
  </div>

  <!-- Bot√≥n Descargar Principal -->
  <div class="flex justify-center" [hidden]="ocultarBoton">
    <button
      class="btn-primary min-w-[200px]"
      (click)="downloadPng()">
      ‚¨áÔ∏è Descargar PNG
    </button>
  </div>

  <!-- Secci√≥n de Descarga en Progreso -->
  <div [hidden]="ocultarDescargando"
    class="card space-y-4">
    <div class="flex items-center gap-2 mb-2">
      <span class="text-xl animate-spin">‚è≥</span>
      <h2 class="text-lg font-bold text-[#d698e6]">Descargando PNG...</h2>
    </div>
    <div class="space-y-4">
      <!-- Archivo Actual -->
      <div class="bg-white/5 rounded-lg p-3">
        <div class="text-xs text-white/50 mb-1 uppercase tracking-wide">Archivo Actual</div>
        <strong class="text-sm text-[#17d1c6] block truncate font-mono">{{ currentFile || '--' }}</strong>
      </div>
      <!-- Barra de Progreso con Animaci√≥n -->
      <div>
        <div class="flex justify-between items-center mb-2">
          <span class="text-xs text-white/70 font-semibold">Progreso General</span>
          <span class="text-xs font-bold text-[#d698e6]">{{ percent }}%</span>
        </div>
        <div class="progress-bar-container">
          <div class="progress-bar-fill"
            [style.width.%]="percent"></div>
        </div>
      </div>
      <!-- Estad√≠sticas de Progreso -->
      <div class="grid grid-cols-2 gap-3 text-xs">
        <div class="bg-white/5 rounded-lg p-2">
          <div class="text-white/50">Descargados</div>
          <div class="font-bold text-[#d698e6]">{{ downloadedIcons }}/{{ totalIcons }}</div>
        </div>
        <div class="bg-white/5 rounded-lg p-2">
          <div class="text-white/50">Compresi√≥n</div>
          <div class="font-bold text-[#17d1c6]">{{ zipPercent }}%</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Selector de Nombre del ZIP -->
  <div [hidden]="!showNamePicker" class="card space-y-4">
    <h2 class="text-lg font-bold text-[#d698e6] mb-4">üìù Nombre del ZIP</h2>
    <label for="zipName" class="block text-sm font-semibold text-white/80">Personaliza el nombre del archivo:</label>
    <input type="text" id="zipName" [value]="zipName" (input)="zipName = $any($event.target).value"
      placeholder=""
      class="w-full">
    <div class="flex gap-3 pt-2">
      <button
        class="flex-1 btn-primary"
        (click)="confirmAndDownload()">
        ‚úì Guardar ZIP
      </button>
      <button
        class="flex-1 btn-secondary"
        (click)="cancelNamePick()">
        ‚úï Cancelar
      </button>
    </div>
  </div>

  <!-- Estad√≠sticas de Descarga -->
  <div [hidden]="ocultarStats" class="card space-y-4">
    <div class="flex items-center gap-2 mb-4">
      <span class="text-xl">üìä</span>
      <h1 class="text-lg font-bold text-[#d698e6]">Estad√≠sticas de Descarga</h1>
    </div>
    <div class="grid grid-cols-2 gap-3">
      <div class="png-stats-container">
        <span class="text-xs text-white/60 mb-1">Total a descargar</span>
        <span class="text-2xl font-black text-[#d698e6]">{{ totalIcons }}</span>
      </div>
      <div class="png-stats-container">
        <span class="text-xs text-white/60 mb-1">Descargados</span>
        <span class="text-2xl font-black text-[#17d1c6]">{{ downloadedIcons }}</span>
      </div>
      <div class="png-stats-container">
        <span class="text-xs text-white/60 mb-1">Errores</span>
        <span class="text-2xl font-black" [class.text-red-400]="erroredIcons > 0" [class.text-green-400]="erroredIcons === 0">{{ erroredIcons }}</span>
      </div>
      <div class="png-stats-container">
        <span class="text-xs text-white/60 mb-1">Tiempo</span>
        <span class="text-base font-bold text-[#d698e6] font-mono">{{ elapsedTime }}</span>
      </div>
      <div class="png-stats-container col-span-2">
        <span class="text-xs text-white/60 mb-1">Tama√±o Total</span>
        <span class="text-lg font-black text-[#a02cd6]">{{ totalSize }}</span>
      </div>
    </div>
  </div>
</section>
